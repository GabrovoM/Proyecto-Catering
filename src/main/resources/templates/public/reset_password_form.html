<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
	<title>Restablecer Contraseña</title>
	<link href="/webjars/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="icon" type="image/png" href="/img/favicon.png" sizes="64x64">
</head>
<body>
	<th:block th:insert="~{public/navigation::main-nav}"></th:block>
	<div class="text-center mt-5">
		<h2>Restablecer Contraseña</h2>
	</div>
	<form th:action="@{/reset_password}" method="post" style="max-width: 350px; margin: 0 auto;">
		<input type="hidden" name="token" th:value="${token}" />
		<div class="border border-secondary rounded p-3">
			<div>
				<p>
					<input type="password" name="password" id="password" class="form-control"
						placeholder="Ingrese su nueva contraseña" required autofocus />
				</p>
				<p>
					<input type="password" class="form-control" placeholder="Confirme su nueva contraseña" required
						oninput="checkPasswordMatch(this);" />
				</p>
				<p class="text-center">
					<input type="submit" value="Cambiar contraseña" class="btn btn-custom-primary" />
				</p>
			</div>
		</div>
	</form>
	
	<script src="/webjars/jquery/jquery.min.js"></script>
	<script src="/webjars/bootstrap/js/bootstrap.min.js"></script>
	<script>
		function checkPasswordMatch(fieldConfirmPassword) {
			if (fieldConfirmPassword.value != $("#password").val()) {
				fieldConfirmPassword.setCustomValidity("Las 2 contraseñas no coinciden!");
			} else {
				fieldConfirmPassword.setCustomValidity("");
			}
		}
	</script>
</body>
</html>